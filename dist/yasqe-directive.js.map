{"version":3,"sources":["yasqe-directive.ts"],"names":["fi","fi.seco","fi.seco.yasqe","fi.seco.yasqe.YasqeDirective","fi.seco.yasqe.YasqeDirective.constructor"],"mappings":"AAAA,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE,CAAC,CAAA;AACnC,IAAU,EAAE,CA4BX;AA5BD,WAAU,EAAE;IAACA,IAAAA,IAAIA,CA4BhBA;IA5BYA,WAAAA,IAAIA;QAACC,IAAAA,KAAKA,CA4BtBA;QA5BiBA,WAAAA,OAAKA,EAACA,CAACA;YACvBC,YAAYA,CAAAA;YAUZA;gBACEC,wBAAoBA,QAAiCA;oBADvDC,iBAgBCA;oBAfqBA,aAAQA,GAARA,QAAQA,CAAyBA;oBAC9CA,aAAQA,GAAWA,GAAGA,CAAAA;oBACtBA,UAAKA,GAA2BA;wBACrCA,IAAIA,EAAEA,GAAGA;wBACTA,QAAQA,EAAEA,GAAGA;wBACbA,QAAQA,EAAEA,GAAGA;wBACbA,KAAKA,EAAEA,GAAGA;qBACXA,CAAAA;oBACMA,SAAIA,GAAqBA,UAACA,MAAmBA,EAAEA,OAAeA,EAAEA,IAAyBA;wBAC9FA,IAAIA,KAAKA,GAAQA,KAAKA,CAACA,OAAOA,CAACA,CAACA,CAACA,EAAEA,EAACA,eAAeA,EAAEA,KAAKA,EAAEA,MAAMA,EAAEA,EAAEA,SAASA,EAAEA,EAAEA,QAAQA,EAAEA,MAAMA,CAACA,QAAQA,EAACA,EAAEA,eAAeA,EAAEA,MAAMA,CAACA,QAAQA,GAAGA,IAAIA,GAAGA,KAAKA,EAACA,EAACA,CAACA,CAAAA;wBACjKA,MAAMA,CAACA,KAAKA,GAAGA,KAAKA,CAAAA;wBACpBA,KAAKA,CAACA,EAAEA,CAACA,QAAQA,EAAEA,cAAMA,OAAAA,KAAIA,CAACA,QAAQA,CAACA,cAAMA,OAAAA,MAAMA,CAACA,IAAIA,GAAGA,KAAKA,CAACA,QAAQA,EAAEA,EAA9BA,CAA8BA,CAACA,EAAnDA,CAAmDA,CAACA,CAAAA;wBAC7EA,MAAMA,CAACA,MAAMA,CAACA,MAAMA,EAAEA,UAACA,IAAYA,EAAEA,KAAaA,IAAOA,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,KAAKA,KAAKA,CAACA,QAAQA,EAAEA,CAACA;4BAACA,KAAKA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAAAA,CAACA,CAACA,CAACA,CAAAA;wBACvHA,MAAMA,CAACA,MAAMA,CAACA,UAAUA,EAAEA,UAACA,QAAgBA,IAAOA,EAAEA,CAACA,CAACA,QAAQA,CAACA;4BAACA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,CAACA,QAAQA,GAAGA,QAAQA,CAAAA,CAACA,CAACA,CAACA,CAAAA;oBAC7GA,CAACA,CAAAA;gBAduDA,CAACA;gBAe3DD,qBAACA;YAADA,CAhBAD,AAgBCC,IAAAD;YAhBYA,sBAAcA,iBAgB1BA,CAAAA;QACHA,CAACA,EA5BiBD,KAAKA,GAALA,UAAKA,KAALA,UAAKA,QA4BtBA;IAADA,CAACA,EA5BYD,IAAIA,GAAJA,OAAIA,KAAJA,OAAIA,QA4BhBA;AAADA,CAACA,EA5BS,EAAE,KAAF,EAAE,QA4BX","file":"yasqe-directive.js","sourcesContent":["angular.module('fi.seco.yasqe', [])\nnamespace fi.seco.yasqe {\n  'use strict'\n\n  interface IYASQEScope extends angular.IScope {\n    data: string\n    callback: (any) => void\n    yasqe: any\n  }\n\n  declare var YASQE: any\n\n  export class YasqeDirective {\n    constructor(private $timeout: angular.ITimeoutService) {}\n    public restrict: string = 'E'\n    public scope: {[id: string]: string} = {\n      data: '=',\n      endpoint: '=',\n      callback: '=',\n      yasqe: '='\n    }\n    public link: (...any) => void = ($scope: IYASQEScope, element: JQuery, attr: angular.IAttributes) => {\n      let yasqe: any = YASQE(element[0], {createShareLink: false, sparql: { callbacks: { complete: $scope.callback}, showQueryButton: $scope.callback ? true : false}})\n      $scope.yasqe = yasqe\n      yasqe.on('change', () => this.$timeout(() => $scope.data = yasqe.getValue()))\n      $scope.$watch('data', (data: string, odata: string) => { if (data && data !== yasqe.getValue()) yasqe.setValue(data) })\n      $scope.$watch('endpoint', (endpoint: string) => { if (endpoint) yasqe.options.sparql.endpoint = endpoint })\n    }\n  }\n}\n"],"sourceRoot":"/source/"}